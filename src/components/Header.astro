---
import Iso from "@/assets/Iso.astro";
import Link from "./Link.astro";
---

<header
  class:list={[
    "fixed top-0 z-50 hidden w-full justify-center border-neutral-50/10 transition-all lg:flex",
    false && "border-b backdrop-blur-xl",
  ]}
>
  <nav class="flex w-full max-w-7xl items-center justify-between p-4">
    <a href="/">
      <Iso class:list={["h-20 py-3 transition-all", false && "h-10"]} />
    </a>

    <Link href="#contacto" alt>Contacto</Link>
  </nav>
</header>

<script>
  const header = document.querySelector("header") as HTMLElement;
  const logo = document.querySelector("header a>svg") as HTMLElement;
  const contact = document.querySelector(
    "header a:last-of-type"
  ) as HTMLElement;

  function setScroll() {
    if (window.scrollY > 0) {
      header.classList.add("backdrop-blur-xl");
      header.classList.add("border-b");
      logo.classList.add("h-10");
      contact.classList.add("!border-sgl");
      contact.classList.add("!bg-sgl");
      contact.classList.add("!text-neutral-950");

      logo.classList.remove("h-20");
      logo.classList.remove("py-3");
    } else {
      header.classList.remove("backdrop-blur-xl");
      header.classList.remove("border-b");
      logo.classList.remove("h-10");
      contact.classList.remove("!border-sgl");
      contact.classList.remove("!bg-sgl");
      contact.classList.remove("!text-neutral-950");

      logo.classList.add("h-20");
      logo.classList.add("py-3");
    }
  }

  setScroll();
  window.addEventListener("scroll", setScroll);
</script>
